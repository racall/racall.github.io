


<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    
        <meta name="keywords" content="小忆博客" />
    
    <meta name="description" content="App为什么要国际化和本地化众所周知，App Store可在150多个不同的国家/地区销售，所以App国际化是迈向国际市场的第一步，而App国际化就是让App能在不同的国家和地区使用，例如Google Chrome，Wechat等。本地化是将App翻译成多种语言的过程。也就是说想让更多的人使用我们开发的App，就必须走向国际化。 如何配置App国际化在项目中添加需要国际化/本地化的语言打开Xcod">
<meta property="og:type" content="article">
<meta property="og:title" content="macOS App国际化和本地化">
<meta property="og:url" content="https://blog.iiwo.vip/posts/b419bc2e/index.html">
<meta property="og:site_name" content="小 忆 博 客">
<meta property="og:description" content="App为什么要国际化和本地化众所周知，App Store可在150多个不同的国家/地区销售，所以App国际化是迈向国际市场的第一步，而App国际化就是让App能在不同的国家和地区使用，例如Google Chrome，Wechat等。本地化是将App翻译成多种语言的过程。也就是说想让更多的人使用我们开发的App，就必须走向国际化。 如何配置App国际化在项目中添加需要国际化/本地化的语言打开Xcod">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://pic.52xyi.cn/1531838972.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531838882.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531839103.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531839454.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531839735.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531839827.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531840019.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531840180.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531840298.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531841045.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531841340.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531841430.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531841541.png">
<meta property="og:image" content="https://pic.52xyi.cn/1531841633.png">
<meta property="og:updated_time" content="2018-07-17T15:45:20.829Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="macOS App国际化和本地化">
<meta name="twitter:description" content="App为什么要国际化和本地化众所周知，App Store可在150多个不同的国家/地区销售，所以App国际化是迈向国际市场的第一步，而App国际化就是让App能在不同的国家和地区使用，例如Google Chrome，Wechat等。本地化是将App翻译成多种语言的过程。也就是说想让更多的人使用我们开发的App，就必须走向国际化。 如何配置App国际化在项目中添加需要国际化/本地化的语言打开Xcod">
<meta name="twitter:image" content="https://pic.52xyi.cn/1531838972.png">
    <title>macOS App国际化和本地化 | 小 忆 博 客</title>
    <link rel="shortcut icon" type="image/x-icon" href="https://pic.52xyi.cn/1531298345.jpeg">
    
        
            <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext">
        
            <link rel="stylesheet" href="/css/font-awesome.min.css">
        
            <link rel="stylesheet" href="/css/gitment.css">
        
            <link rel="stylesheet" href="/css/highlight.css">
        
            <link rel="stylesheet" href="/css/hola.css">
        
    
    
        <script type="text/javascript">
            (function() {
                var hm = document.createElement("script");
                hm.src = "//tajs.qq.com/stats?sId=65927492";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        </script>
    
</head>
<body>
    <div class="container">
        <div class="header-outer">
            <div class="header-site">
                <div class="header-title">
                    小 忆 博 客
                </div>
                <div id="hitokoto" class="header-subtitle">
                    有梦想，有精彩
                </div>
            </div>
            <div class="header-menu">
                
                    <span class="header-nav">
                        <a href="/">Home</a>
                    </span>
                    
                        <span class="flag">/</span>
                    
                
                    <span class="header-nav">
                        <a href="/about">About</a>
                    </span>
                    
                        <span class="flag">/</span>
                    
                
                    <span class="header-nav">
                        <a href="/links">Links</a>
                    </span>
                    
                        <span class="flag">/</span>
                    
                
                    <span class="header-nav">
                        <a href="https://buymeacoff.ee/racall">Coffee</a>
                    </span>
                    
                
            </div>
        </div>

        <div id="content-outer">
            <div id="content-inner">
                


<article class="post">
    <h1 class="post-title">macOS App国际化和本地化</h1>
    
        <h2>目录</h2>
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#App为什么要国际化和本地化"><span class="toc-text">App为什么要国际化和本地化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如何配置App国际化"><span class="toc-text">如何配置App国际化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#在项目中添加需要国际化-本地化的语言"><span class="toc-text">在项目中添加需要国际化/本地化的语言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#App名称本地化"><span class="toc-text">App名称本地化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#字符串本地化"><span class="toc-text">字符串本地化</span></a></li></ol></li></ol>
        <br>
    
    <h3 id="App为什么要国际化和本地化"><a href="#App为什么要国际化和本地化" class="headerlink" title="App为什么要国际化和本地化"></a>App为什么要国际化和本地化</h3><p>众所周知，App Store可在150多个不同的国家/地区销售，所以App国际化是迈向国际市场的第一步，而App国际化就是让App能在不同的国家和地区使用，例如Google Chrome，Wechat等。本地化是将App翻译成多种语言的过程。也就是说想让更多的人使用我们开发的App，就必须走向国际化。</p>
<h3 id="如何配置App国际化"><a href="#如何配置App国际化" class="headerlink" title="如何配置App国际化"></a>如何配置App国际化</h3><h4 id="在项目中添加需要国际化-本地化的语言"><a href="#在项目中添加需要国际化-本地化的语言" class="headerlink" title="在项目中添加需要国际化/本地化的语言"></a>在项目中添加需要国际化/本地化的语言</h4><p>打开Xcode，选中project-&gt;Info-&gt;Localizations，然后点击”+”，添加需要国际化/本地化的语言。</p>
<p><img src="https://pic.52xyi.cn/1531838972.png" alt=""></p>
<p>点击”+” 后，选择你需要添加的的语言，这里添加中文简体为例。</p>
<p><img src="https://pic.52xyi.cn/1531838882.png" alt=""></p>
<p>点击对应语言后，会弹出如下对话库，点击”Finish”即可。</p>
<p><img src="https://pic.52xyi.cn/1531839103.png" alt=""></p>
<p>添加其他语言也是同样操作，添加完成之后我们发现项目中的，storyboard和xib文件前面多了一个可展开的小三角。</p>
<p><img src="https://pic.52xyi.cn/1531839454.png" alt=""></p>
<p>展开后，里面的.string文件，就是storyboard或xib的对应语言文件。</p>
<h4 id="App名称本地化"><a href="#App名称本地化" class="headerlink" title="App名称本地化"></a>App名称本地化</h4><p>在项目中添加新文件，选择Strings File。</p>
<p><img src="https://pic.52xyi.cn/1531839735.png" alt=""></p>
<p>点击”Next”。</p>
<p><img src="https://pic.52xyi.cn/1531839827.png" alt=""></p>
<p>注意这里的名字，必须是<code>InfoPlist</code>，如果名字不是，后面的操作将无效。</p>
<p>当创建好InfoPlist.strings文件之后，选择InfoPlist.strings，在Xcode的File inspection（Xcode右侧文件检查器）中点击Localize，目的是选择我们需要本地化的语言。</p>
<p><img src="https://pic.52xyi.cn/1531840019.png" alt=""></p>
<p>点击Localize之后，会弹出这个小窗口，在小窗口中选择对应的语言。</p>
<p><img src="https://pic.52xyi.cn/1531840180.png" alt=""></p>
<p>点击Localize后，会发现Xcode右侧的File inspection多了我们选择的语言项目。</p>
<p><img src="https://pic.52xyi.cn/1531840298.png" alt=""></p>
<p>勾选上对应的语言，InfoPlist.strings文件前面也会多出了一个可展开的小三角。</p>
<p>我们在不同的语言中添加：</p>
<p><code>CFBundleDisplayName = &quot;对应语言App名称&quot;;</code></p>
<p>至此，我们完成App名称本地化。</p>
<h4 id="字符串本地化"><a href="#字符串本地化" class="headerlink" title="字符串本地化"></a>字符串本地化</h4><p>字符串本地化不步骤和App名称本地一样，唯一区别在于名字，App名称本地化中的string文件的名字为<code>InfoPlist</code>，而字符串本地化string文件的名称则需是<code>Localizable</code>。</p>
<p><img src="https://pic.52xyi.cn/1531841045.png" alt=""></p>
<p>注意：所有的strings文件中的内容都是以键值对形式存放。</p>
<p>既然字符串本地化了，那就少不了在代码中引用，字符串本地化的值。我们只需要使用Foundation框架自带的NSLocalizedString(key, comment)这个宏根据Key获取对应的字符串，然后赋值给代码中的字符串。</p>
<p>例如：</p>
<p><img src="https://pic.52xyi.cn/1531841340.png" alt=""></p>
<p>将程序跑起来后，控制台输出了，对应语言的值。</p>
<p><img src="https://pic.52xyi.cn/1531841430.png" alt=""></p>
<p>注意：我们无需修改系统语言进行测试，只需要编辑Scheme修改语言即可，如下例子，将英文修改成中文简体。</p>
<p><img src="https://pic.52xyi.cn/1531841541.png" alt=""></p>
<p><img src="https://pic.52xyi.cn/1531841633.png" alt=""></p>
<p>这个时候运行程序，程序就会加载对应的语言包了。</p>
<p>注意：storyboard和xib文件对应的strings文件，不会因为storyboard和xib的改动而自动添加，需要在项目目录下运行:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ibtool /xx/xproject/xxx.storyboard --generate-strings-file xx.lproj/xxx.string</span><br></pre></td></tr></table></figure>
<p>本地化和国际化的基本操作已经完成，当然还有很多内容，本文并没有讲到，例如多人开发时如何保证字符串本地，图片本地化等操作。后面有时间在更新。。。</p>

</article>
<div class="post-footer">
    <div class="post-author">
        <span>Written in 2018年7月17日</span>
    </div>
    <div class="post-category">
        
    </div>
    <div class="post-tags">
        
    </div>
    
        <div class="pagination">
            
                <div class="nav-next nav-item">
                    <a href="/posts/667068747/">
                        <i class="fa fa-angle-left"></i>
                        <span>CocoaPods安装及使用</span>
                    </a>
                </div>
            
            
        </div>
    
</div>
<div id="gitment"></div>
            </div>
        </div>

        <div class="footer-outer">
            <div class="footer-items">
                <span class="footer-copyright">
                    <i class="fa fa-copyright"></i>
                </span>
                <span class="footer-year">
                    2015 - 2018
                </span>
                <span class="footer-author">
                    小忆
                </span>
                
                    <span class="footer-wordcount">
                        <i class="fa fa-pencil footer-icon"></i>
                        Has 27.6k words.
                    </span>
                
            </div>
            <div class="footer-inner">
                <span class="footer-other">
                    Hosted by <a href="https://github.com">GitHub</a>, 
                    Proudly powered by <a href="http://hexo.io">Hexo</a> and Theme by <a href="https://github.com/isecret/Hola">Hola</a>.
                </span>
            </div>
        </div>
    </div>
    
        
            <script src="/js/jquery.min.js"></script>
        
            <script src="/js/fetch.min.js"></script>
        
            <script src="/js/md5.min.js"></script>
        
            <script src="/js/gitment.browser.min.js"></script>
        
            <script src="/js/hola.js"></script>
        
    
    
        <script>
            var gitment = new Gitment({
                id: window.location.pathname.replace(/(\/$)/g,"").length > 49 ? md5(window.location.pathname): window.location.pathname.replace(/(\/$)/g,""),
                owner: "racall",
                repo: "comment",
                oauth: {
                    client_id: "c7d336cf3868196517c0",
                    client_secret: "a6bee65b0275b51140b2fd203ff90d57e0b00ad5"
                }
            });
            gitment.render("gitment");
        </script>
    
    
</body>
</html>
